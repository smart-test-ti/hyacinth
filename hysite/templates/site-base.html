{% extends 'base.html' %}
{% load static %}
{% block body %}
<div class="page">
    <header class="navbar navbar-expand-md  navbar-overlap d-print-none" style="background-color: #2d5e4b">
        <div class="container-xl ">
            <button class="navbar-toggler" style="color: white" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu">
                <span class="navbar-toggler-icon"></span>
            </button>
            <h1 class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3">
                <img src="/static/image/logo/logo.png" width="110" height="32" alt="Hyacinth" class="navbar-brand-image">
            </h1>
            <div class="navbar-nav flex-row order-md-last">
            <div class="d-none d-md-flex">
                <a href="?theme=dark" class="nav-link px-0 hide-theme-dark" title="Enable dark mode" data-bs-toggle="tooltip" data-bs-placement="bottom">
                    <svg t="1661606103142" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="100509" width="2000" height="2000"><path d="M696.832 215.552c98.816 62.976 162.304 173.056 162.304 294.912 0 192.512-156.672 349.184-349.184 349.184-121.856 0-232.448-63.488-294.912-162.816h5.12c263.168 0 477.184-214.016 477.184-477.184-0.512-1.536-0.512-3.072-0.512-4.096m-78.336-103.936c9.216 34.304 14.336 70.656 14.336 108.032 0 228.352-184.832 413.184-413.184 413.184-37.376 0-73.728-5.12-108.544-14.336 47.616 175.616 207.872 305.152 398.848 305.152 228.352 0 413.184-184.832 413.184-413.184 0-190.976-129.024-351.232-304.64-398.848z" fill="#ffffff" p-id="100510"></path></svg>
                </a>
                <a href="?theme=light" class="nav-link px-0 hide-theme-light" title="Enable light mode" data-bs-toggle="tooltip" data-bs-placement="bottom">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="4" /><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" /></svg>
                </a>
                <div class="nav-item dropdown d-none d-md-flex me-3">
                    <a href="#" class="nav-link px-0" data-bs-toggle="dropdown" tabindex="-1" aria-label="Show notifications">
                        <svg t="1661606150625" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="101510" width="2000" height="2000"><path d="M747.776 889.344H270.592c-39.168 0-75.776-8.704-103.168-24.576-35.072-20.48-54.272-51.968-54.272-88.832v-2.56c0-46.08 33.792-100.608 76.8-128.768-14.336-51.2-14.336-117.76-14.336-168.192 0-150.784 68.864-266.24 194.048-326.912 14.848-58.88 71.936-101.632 139.52-101.632s124.672 42.752 139.52 101.632c123.392 60.16 194.048 181.248 194.048 334.592 0 50.176 0 111.104-14.08 160.512 17.152 11.008 33.792 26.368 47.616 44.288 22.272 28.416 34.56 58.88 34.56 85.76v2.56c0 77.056-84.48 112.128-163.072 112.128zM509.184 104.192c-44.288 0-82.176 29.696-86.528 67.84l-1.792 16.128-14.848 6.4c-113.92 49.664-174.08 147.2-174.08 281.6 0 51.2 0 128.512 18.176 170.752l11.776 26.88-27.392 10.496c-31.488 12.288-65.024 57.856-65.024 88.832v2.56c0 27.648 31.744 57.344 101.12 57.344h477.184c43.008 0 106.752-14.848 106.752-56.064v-2.56c0-29.952-37.12-77.056-70.656-90.112l-27.392-10.496 11.776-26.88c18.176-42.24 18.176-112.128 18.176-163.072 0-69.12-15.872-129.792-46.848-180.224-29.952-48.64-72.704-85.248-127.232-109.056l-14.848-6.4-1.792-16.128c-4.352-38.144-42.24-67.84-86.528-67.84z" p-id="101511" fill="#ffffff"></path><path d="M512 976.128c-87.552 0-155.904-49.92-155.904-113.664v-2.048l0.512-27.392h310.784l0.512 27.392v2.048c0 63.744-68.352 113.664-155.904 113.664z m-87.04-86.784c17.408 17.664 50.688 30.464 87.04 30.464s69.888-12.544 87.04-30.464h-174.08z" p-id="101512" fill="#ffffff"></path></svg>
                        <span class="badge bg-red"></span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-end dropdown-menu-card">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">更新记录</h3>
                            </div>
                            <div class="list-group list-group-flush list-group-hoverable">
                                {% for log in logs %}
                                <div class="list-group-item" style="width: 400px">
                                    <div class="row align-items-center">
                                        <div class="col-auto"><span class="status-dot status-dot-animated bg-red d-block"></span></div>
                                        <div class="col">
                                            <a href="#" class="text-body d-block">{{ log.pkgname }}</a>
                                            <div class="d-block text-muted  mt-n1">
                                                {{ log.username }} {{ log.action }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown" aria-label="Open user menu">
                        {% if avatar %}
                        <span class="avatar avatar-sm" style="background-image: url(/static/avatar/{{ username }}/{{ avatar }});background-color: transparent"></span>
                        {% else %}
                        <span class="avatar avatar-sm" style="background-image: url(/static/image/avatar.png);background-color: transparent"></span>
                        {% endif %}
                        <div class="d-none d-xl-block ps-2">
                            <div class="text-white" id="nickname">{{ nickname }}</div>
                            <div class="mt-1 small  text-white" id="role">{{ role }}</div>
                        </div>
                    </a>
                    <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                        <a href="/package/manage" class="dropdown-item">
                            <svg t="1661657393780" class="icon dropdown-item-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="155303" width="2000" height="2000"><path d="M905.16 392.38c-17.66 0.8-32.59 14.32-32.59 32.59v255l-23 13.2-94.07 54q-57.16 32.77-114.32 65.56l-98.07 56.23q-4.92 2.83-9.88 5.62v-317c0-17 0.37-34.13 0-51.17v-0.72c0-17.05-15-33.38-32.59-32.59S468 487.37 468 505.64v362.48l-78.17-48-108.12-66.32-93.88-57.61c-10-6.16-20-12.52-30.06-18.7v-22.35q0-49.3 0.1-98.62l0.13-118.86 0.11-103.27c0-16.67 0.39-33.39 0.05-50.06v-0.73c0-17.05-15-33.38-32.59-32.59S93 265.33 93 283.6v43.93q0 52.19-0.1 104.35l-0.13 123.61-0.11 101.68v37.08a35.39 35.39 0 0 0 16.18 29.88c12.12 8.1 24.95 15.31 37.37 22.93l86.72 53.22 105.27 64.65 93.24 57.21 50.41 30.93 2.31 1.42a30.57 30.57 0 0 0 25.76 2.92 32 32 0 0 0 17.3-4.29l39.16-22.46 94.08-53.95 114.32-65.56 98.06-56.23c16-9.19 32.29-18 48.1-27.59l0.66-0.38a32.76 32.76 0 0 0 16.15-28.14V425c0-17.07-14.99-33.4-32.59-32.62z" fill="#0071C3" p-id="155304"></path><path d="M485.36 119.86L522.61 139l89.48 45.91 108.75 55.79 93.63 48c15.16 7.78 30.16 16 45.54 23.37 0.22 0.1 0.43 0.22 0.65 0.33v-51.2l-37.22 20.87-88.92 49.85L627 392.2l-93 52.12c-15.09 8.46-30.49 16.54-45.34 25.42l-0.67 0.37H518l-38.42-21.17-92.7-51.08-111.79-61.58L178.46 283c-15.69-8.64-31.21-17.77-47.14-26-0.22-0.11-0.43-0.24-0.65-0.36v51.2L169 289.17l92-45L371.76 190l96.17-47c15.53-7.59 31.39-14.73 46.67-22.81 0.22-0.12 0.46-0.22 0.69-0.34 14-6.82 18.86-27.79 10.63-40.56-9.23-14.29-25.62-17.92-40.56-10.62L447.05 87.4l-92 45-110.8 54.16-96.17 47c-15.53 7.59-31.39 14.73-46.67 22.82l-0.68 0.33c-20.07 9.81-18.57 41 0 51.2l37.6 20.72L229 378.56l110 60.61 97 53.48c16.81 9.26 33.53 18.71 50.43 27.79 10 5.38 21.1 6.35 31.52 0.85 1.08-0.57 2.13-1.19 3.2-1.79l20.62-11.5 83-46.54 109.08-61.15 99.3-55.66 54.85-30.8 2.55-1.43c18.73-10.5 19.87-41 0-51.2l-37.25-19.11-89.45-45.91-108.74-55.79-93.64-48C546.3 84.58 531.2 76.61 515.93 69l-0.64-0.33c-13.79-7.07-32.81-4-40.56 10.63-7.17 13.56-4.1 33.01 10.63 40.56zM246.49 480.22l122.84 63.57M231.35 506.13l107.47 55.61 15.37 8c13.93 7.21 33.21 4.07 41.05-10.76 7.27-13.76 4.12-33.34-10.77-41L277 462.27l-15.37-7.95c-13.92-7.21-33.21-4.06-41 10.76-7.28 13.77-4.12 33.35 10.76 41.05z" fill="#FD9A16" p-id="155305"></path></svg>
                            管理应用
                        </a>
                        <a href="/user/list" class="dropdown-item">
                            <svg t="1661657137501" class="icon dropdown-item-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="134713" width="2000" height="2000"><path d="M632 344m-120 0a120 120 0 1 0 240 0 120 120 0 1 0-240 0Z" fill="#A9D8FF" p-id="134714"></path><path d="M809 800H503c-48.1 0-87-39-87-87 0-111 90-201 201-201h78c111 0 201 90 201 201 0 48-39 87-87 87z" fill="#A9D8FF" p-id="134715"></path><path d="M440 296m-168 0a168 168 0 1 0 336 0 168 168 0 1 0-336 0Z" fill="#298DF7" p-id="134716"></path><path d="M638.2 896H241.8C179 896 128 845 128 782.2 128 633 249 512 398.2 512h83.6C631 512 752 633 752 782.2 752 845 701 896 638.2 896z" fill="#298DF7" p-id="134717"></path></svg>
                            管理用户
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="/user/setting" class="dropdown-item">
                            <svg t="1661657431853" class="icon dropdown-item-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="156250" width="2000" height="2000"><path d="M598.6 946.9c-12.6 0-27.6-4.2-41.7-18.3L512 878.7 469.5 926c-13.1 17.3-36 24.7-59.3 18.8-35.9-8.3-70.1-22.3-101.3-41.6-20.7-7.9-34.3-28.4-34.3-53.1l2.5-65.7-62 2.3h-0.1c-21.7 0-40.1-10.1-51.7-27.6-20.8-32.6-35.6-68.1-44.3-105.9-3.6-14.2-3.8-36.1 16.5-56.4l49.8-44.9-47.3-42.5c-17.3-13.1-24.7-36-18.8-59.3 8.6-37.2 23.3-72.7 43.8-104.8 12.2-18.1 30.5-28.1 50.9-28.1l65.7 2.5-2.3-62c0-26.2 14.1-47.2 35.6-54.8 41.3-21.7 75.1-33 97.7-40.4 17.1-4.4 39-4.6 59.3 15.7l44.9 49.8 42.5-47.3c13.1-17.3 36.1-24.7 59.3-18.8 37.2 8.6 72.7 23.3 104.8 43.8 18.1 12.2 28.1 30.6 28.1 50.9l-2.5 65.7 61.9-2.3h0.1c21.7 0 40.1 10.1 51.7 27.6 20.8 32.6 35.6 68.1 44.2 105.9 3.6 14.2 3.8 36.1-16.5 56.3l-50.6 44.1 48.2 43.3c17.3 13.1 24.7 36 18.8 59.3-8.5 37.2-23.3 72.7-43.8 104.8-12.1 18.1-30.5 28.1-50.9 28.1l-65.7-2.5 2.3 61.9c0 21.7-10 40.1-27.5 51.8-32.7 20.8-68.2 35.6-106 44.3-4.3 1.2-9.2 2-14.6 2zM338.9 846.4l0.9 0.6c25.3 16.1 53.2 27.8 83 35l52.8-57.4c23.9-17.9 57.8-15.5 79 5.7l46.6 51.8c29.6-7.2 56.7-18.5 81.3-33.9l-2.6-72.6 0.6-3.1c5.9-29.2 30.8-49.5 60.6-49.5l66.7 2.6c15.5-24.6 26.9-52 33.9-81.3l-59-56.6c-16.3-21.7-13.9-55.6 7.2-76.7l51.8-45.1c-7.2-29.6-18.5-56.7-33.9-81.3l-72.6 2.6-3.1-0.6c-29.2-5.9-49.6-30.8-49.6-60.6l2.6-66.7c-24.6-15.5-52-26.9-81.3-33.9l-52.7 57.4c-23.9 17.9-57.8 15.5-79-5.7l-46.4-51.5c-20 6.7-48.8 16.6-84.2 35.3l2.5 70.9-0.6 3.1c-5.9 29.2-30.8 49.6-60.6 49.6l-66.7-2.6c-15.5 24.6-26.9 52-33.9 81.3l57.4 52.8c17.9 23.9 15.5 57.8-5.7 79l-51.8 46.6c7.2 29.7 18.5 56.7 33.9 81.3l72.6-2.6 3.1 0.6c29.2 5.9 49.6 30.8 49.6 60.6l-2.4 64.9z m496.8-295.2l0.3 0.5c0-0.1-0.2-0.3-0.3-0.5z" p-id="156251"></path><path d="M512 553.5m-128.3 0a128.3 128.3 0 1 0 256.6 0 128.3 128.3 0 1 0-256.6 0Z" fill="#FF4C4D" p-id="156252"></path></svg>
                            个人设置
                        </a>
                        <a href="/login/api/logout" class="dropdown-item">
                            <svg t="1661693398057" class="icon dropdown-item-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="167147" width="2000" height="2000"><path d="M473.946312 173.781952c0-29.457916 24.090675-53.597709 53.54859-53.597709 29.458939 0 53.597709 24.139793 53.597709 53.597709l0 294.681486c0 29.457916-24.13877 53.597709-53.597709 53.597709-29.457916 0-53.54859-24.139793-53.54859-53.597709L473.946312 173.781952 473.946312 173.781952z" p-id="167148" fill="#d4237a"></path><path d="M527.494902 870.388437c-192.31812 0-348.278171-155.964144-348.278171-348.279195 0-144.880715 88.524173-269.019013 214.387765-321.529971l0 121.033587c-64.681138 43.25106-107.195418 116.850311-107.195418 200.496383 0 133.151579 107.932198 241.131873 241.135966 241.131873 133.251863 0 241.185085-107.928105 241.185085-241.131873 0-83.59593-42.612517-157.193135-107.293655-200.496383L661.436474 200.530153c125.960807 52.511981 214.388788 176.650279 214.388788 321.530994C875.824239 714.424292 719.863165 870.388437 527.494902 870.388437L527.494902 870.388437z" p-id="167149" fill="#d4237a"></path></svg>
                            退出登陆
                        </a>
                    </div>
                </div>
            </div>
            <div class="collapse navbar-collapse" id="navbar-menu">
                <ul class="navbar-nav" >
                    <li class="nav-item">
                        <a class="nav-link" href="/package/home/app=all" >
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                                <!-- #149b70 -->
                                <svg t="1661605774674" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="97686" width="2000" height="2000"><path d="M157 258L472.61 75.72a83.85 83.85 0 0 1 83.88 0L872.13 258a83.9 83.9 0 0 1 41.94 72.64v364.43a83.87 83.87 0 0 1-41.94 72.64L556.49 950a83.9 83.9 0 0 1-83.88 0L157 767.71a83.87 83.87 0 0 1-42-72.64V330.59A83.9 83.9 0 0 1 157 258z m359.58 622.8l317.59-185.72-2-367.92-319.61-182.25-317.63 185.68 2 367.92 315.63 182.24a4 4 0 0 0 2 0.55z" fill="#ffffff" p-id="97687"></path><path d="M494.57 461.35l-125.21-72.29c-26.63-15.38-26.63-53.82 0-69.2l125.21-72.29a39.93 39.93 0 0 1 39.95 0l125.21 72.29c26.64 15.38 26.64 53.82 0 69.2l-125.21 72.29a40 40 0 0 1-39.95 0z" fill="#ffffff" p-id="97688"></path><path d="M514.55 380.61l45.3-26.14-45.3-26.16-45.3 26.16 45.3 26.14zM480 555.88v144.57c0 30.76-33.3 50-59.93 34.6l-125.26-72.29a39.94 39.94 0 0 1-20-34.59V483.59c0-30.76 33.3-50 59.93-34.6L460 521.28a39.94 39.94 0 0 1 20 34.6z" fill="#ffffff" p-id="97689"></path><path d="M400.04 578.95l-45.29-26.16-0.01 52.31 45.31 26.14-0.01-52.29zM569.12 521.28L694.33 449c26.64-15.38 59.93 3.84 59.93 34.6v144.57a39.92 39.92 0 0 1-20 34.59l-125.2 72.29c-26.64 15.38-59.93-3.84-59.93-34.6V555.88a39.93 39.93 0 0 1 19.99-34.6z" fill="#ffffff" p-id="97690"></path><path d="M629.06 578.95l-0.01 52.29 45.3-26.14v-52.31l-45.29 26.16z" fill="#ffffff" p-id="97691"></path></svg>
                            </span>
                            <span class="nav-link-title text-white" style="font-weight: bolder">
                                应用管理
                            </span>
                        </a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link"  data-bs-auto-close="outside" role="button"  >
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                                <svg t="1661605833914" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="98874" width="2000" height="2000"><path d="M678.72 176.64a159.36 159.36 0 0 0-318.72 0v86.08h318.4V176.64z" fill="#ffffff" p-id="98875"></path><path d="M284.8 321.6L181.76 218.56 130.24 270.08l109.12 109.12c-9.28 19.84-14.72 41.92-14.72 65.28v129.6H106.56v72.96h117.76v129.6c0 24 5.76 46.4 15.36 66.56l-109.76 109.76 51.84 51.84 104.32-104.32a154.88 154.88 0 0 0 94.72 32.64h122.88V288H380.8c-36.16 0-69.44 12.8-96 33.6zM657.6 288H534.4v347.2a176.928 176.928 0 0 1 126.72-53.44c65.28 0 121.92 35.84 152.64 88.32v-225.6c0-21.12-4.16-41.28-11.84-59.52l114.56-114.56-51.84-51.84-106.88 106.88C730.56 302.4 696 288 657.6 288z" fill="#ffffff" p-id="98876"></path><path d="M810.88 789.76c0-78.08-63.04-141.12-141.12-141.12s-141.12 63.04-141.12 141.12c0 78.08 63.04 141.12 141.12 141.12 33.92 0 64.64-12.48 88.96-32.32l106.24 106.24 51.84-51.84-114.88-114.88c5.44-14.72 8.96-31.04 8.96-48.32z" fill="#ffffff" p-id="98877"></path></svg>
                            </span>
                            <span class="nav-link-title text-white" style="font-weight: bolder">
                                病毒扫描
                            </span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./form-elements.html" >
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                                <svg t="1661608572127" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="110267" width="2000" height="2000"><path d="M868.827 129.535l-351-65a31.995 31.995 0 0 0-11.622-0.005l-353 65C138.022 132.325 127 145.562 127 161v416c0 65.594 20.653 126.907 61.386 182.237 31.66 43.005 75.415 82.271 130.05 116.709 91.321 57.561 181.534 81.966 185.329 82.977a32.015 32.015 0 0 0 16.676-0.057c3.773-1.032 93.459-25.94 184.245-83.749 54.309-34.581 97.802-73.867 129.271-116.769C874.463 703.132 895 642.117 895 577V161c0-15.426-11.005-28.656-26.173-31.465zM831 577c0 93.712-53.642 175.581-159.436 243.333-67.554 43.263-136.299 66.941-159.676 74.29C460.605 878.857 191 785.953 191 577V187.646l320.983-59.104L831 187.618V577z" p-id="110268" fill="#ffffff"></path><path d="M375.118 458.491c-12.497-12.497-32.758-12.497-45.255 0s-12.497 32.758 0 45.255l127.02 127.019c6.293 6.294 14.556 9.414 22.804 9.368 8.248 0.046 16.51-3.074 22.804-9.368L709.765 431.49c12.496-12.496 12.497-32.758 0-45.255s-32.759-12.497-45.255 0L480.127 563.501l-105.009-105.01z" p-id="110269" fill="#ffffff"></path></svg>
                            </span>
                            <span class="nav-link-title text-white" style="font-weight: bolder">
                                安全加固
                            </span>
                        </a>
                    </li> -->
                </ul>
            </div>
        </div>
    </header>
    <div class="page-wrapper">
        <div class="container-xl">
            <div class="page-header d-print-none">
                <div class="row align-items-center">
                    <div class="col">
                        <h2 class="page-title text-white">
                            {% block page_title %}{% endblock%}
                        </h2>
                    </div>
                    <div class="col-auto ms-auto d-print-none">
                        {% block ms-auto %}{% endblock%}
                    </div>
                </div>
            </div>
        </div>
        <div class="page-body mt-4">
            <div class="container-xl">
                {% block page_body %}{% endblock%}
          </div>
        </div>
        <footer class="footer footer-transparent d-print-none">
            <div class="container-xl">
                <div class="row text-center align-items-center flex-row-reverse">
                    <div class="col-12  mt-3 mt-lg-0">
                        <ul class="list-inline list-inline-dots mb-0">
                            <li class="list-inline-item">
                                Copyright &copy; <label id="curDate"></label>
                                <a href="." class="link-secondary">风信子</a>.
                                All rights reserved.
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
    </div>
</div>
{% endblock %}
{% block base_script %}
<script>
    $('#curDate').text(getCurDate());
    var owner = $('#nickname').text()
    console.log(getCurDate())
    console.log(owner)    
</script>
{% endblock %}
